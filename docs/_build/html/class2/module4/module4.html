<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Module 4: Setup a Service scaling group (SSG) in AWS</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="Module 4: Setup a Service scaling group (SSG) in AWS"/>
  <meta name="product" content="F5 BIG-IQ &amp; Cloud Edition Lab"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2019-07-26 04:33:11"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 BIG-IQ &amp; Cloud Edition Lab" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Module 4: Setup a Service scaling group (SSG) in AWS &#8212; F5 BIG-IQ &amp; Cloud Edition Lab  documentation</title>
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5_agility_theme.css" />
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/CoveoFullSearch.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lab 4.1: Prepare your AWS deployment" href="lab1.html" />
    <link rel="prev" title="Lab 3.2: Upgrade and scale-up our SSG" href="../module3/lab2.html" />

  
    

  
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 BIG-IQ & Cloud Edition Lab  </h5>
        
<div id="searchbox" role="search">
  <form class="search" action="../../search.html" method="get">
    <input type="text" class="search" name="q" placeholder=" Search..." />
    <button type="submit" class="btn btn-info navbar-btn"><i class="fa fa-search"></i></button>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        <hr>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Contents/Lab:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../class1/class1.html">Class 1: BIG-IQ Application Management and AS3 (Cloud Edition)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../class2.html">Class 2: BIG-IQ Deployment with auto-scale on AWS, Azure &amp; VMware (Cloud Edition)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class3/class3.html">Class 3:  BIG-IQ Analytics (Cloud Edition)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class4/class4.html">Class 4: BIG-IQ Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class5/class5.html">Class 5: BIG-IQ Device Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class6/class6.html">Class 6: BIG-IQ ADC Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class7/class7.html">Class 7: BIG-IQ Application Firewall Manager (AFM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class8/class8.html">Class 8: BIG-IQ Application Security Manager (ASM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class9/class9.html">Class 9: BIG-IQ Access Policy Manager (APM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class10/class10.html">Class 10: BIG-IQ DNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class11/class11.html">Class 11: BIG-IQ DDoS Monitoring and Dashboard</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Module 4: Setup a Service scaling group (SSG) in AWS</a><ul>
<li><a class="reference internal" href="#topology-of-aws-service-scaling-group">Topology of AWS Service Scaling Group</a></li>
<li><a class="reference internal" href="#aws-tier1-service-scaler-management-how-does-this-work">AWS Tier1/<code class="docutils literal notranslate"><span class="pre">Service</span> <span class="pre">Scaler</span></code> management - how does this work ?</a></li>
<li><a class="reference internal" href="#aws-tier2-ssg-management-how-does-this-work">AWS Tier2/<code class="docutils literal notranslate"><span class="pre">SSG</span></code> management - how does this work ?</a></li>
<li><a class="reference internal" href="#application-deployment-in-a-ssg-aws">Application deployment in a <code class="docutils literal notranslate"><span class="pre">SSG</span></code> - AWS</a></li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../../index.html">F5 BIG-IQ &amp; Cloud Edition Lab</a>
              &gt; <a href="../class2.html">Class 2: BIG-IQ Deployment with auto-scale on AWS, Azure &amp; VMware (Cloud Edition)</a>

          <span class="right">
             <a href="../../_sources/class2/module4/module4.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/f5devcentral/f5-big-iq-lab">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="module-4-setup-a-service-scaling-group-ssg-in-aws">
<h1>Module 4: Setup a Service scaling group (SSG) in AWS<a class="headerlink" href="#module-4-setup-a-service-scaling-group-ssg-in-aws" title="Permalink to this headline">¶</a></h1>
<p>In this module, we will learn about the <code class="docutils literal notranslate"><span class="pre">Service</span> <span class="pre">Scaling</span> <span class="pre">Group</span></code> (SSG) feature
provided with BIG-IQ 6.0 in a the <code class="docutils literal notranslate"><span class="pre">AWS</span></code> environment.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Service</span> <span class="pre">Scaling</span> <span class="pre">Group</span></code> (SSG) gives us the capability to setup a cluster of BIG-IPs
that will scale based on criterias defined by the administrator.</p>
<div class="section" id="topology-of-aws-service-scaling-group">
<h2>Topology of AWS Service Scaling Group<a class="headerlink" href="#topology-of-aws-service-scaling-group" title="Permalink to this headline">¶</a></h2>
<p>With BIG-IQ 6.0, the <code class="docutils literal notranslate"><span class="pre">Service</span> <span class="pre">Scaling</span> <span class="pre">Group</span></code> is composed of 2 tiers of ADCs.
Depending on the environment, the implementation of the <code class="docutils literal notranslate"><span class="pre">Service</span> <span class="pre">Scaling</span> <span class="pre">Group</span></code>
(SSG) will differ.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 47%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Environment</p></th>
<th class="head"><p>Tier1 (called <code class="docutils literal notranslate"><span class="pre">Service</span> <span class="pre">Scaler</span></code>)</p></th>
<th class="head"><p>Tier2 (called <code class="docutils literal notranslate"><span class="pre">SSG</span></code>)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AWS</p></td>
<td><p>ELB</p></td>
<td><p>F5 VE</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="aws-tier1-service-scaler-management-how-does-this-work">
<h2>AWS Tier1/<code class="docutils literal notranslate"><span class="pre">Service</span> <span class="pre">Scaler</span></code> management - how does this work ?<a class="headerlink" href="#aws-tier1-service-scaler-management-how-does-this-work" title="Permalink to this headline">¶</a></h2>
<p>With BIG-IQ 6.0, the provisioning and deployment of Tier1 has to be done
upfront by the administrator. It means that:</p>
<ul class="simple">
<li><p>The AWS ELB will have to be provisioned</p></li>
</ul>
</div>
<div class="section" id="aws-tier2-ssg-management-how-does-this-work">
<h2>AWS Tier2/<code class="docutils literal notranslate"><span class="pre">SSG</span></code> management - how does this work ?<a class="headerlink" href="#aws-tier2-ssg-management-how-does-this-work" title="Permalink to this headline">¶</a></h2>
<p>With BIG-IQ 6.0, the provisioning of <code class="docutils literal notranslate"><span class="pre">SSG</span></code> BIG-IPs is fully automated. You
don’t have to setup anything upfront but licenses for BIG-IQ to assign to the
dynamically provisioned BIG-IPs</p>
<p>To handle the provisioning and onboarding of our F5 virtual edition, we leverage
different components:</p>
<ul class="simple">
<li><p>our F5 cloud deployment templates</p>
<ul>
<li><p><a class="reference external" href="https://github.com/F5Networks/f5-aws-cloudformation">F5 AWS template</a></p></li>
</ul>
</li>
<li><p>f5 cloud libs</p>
<ul>
<li><p><a class="reference external" href="https://github.com/F5Networks/f5-cloud-libs">F5 cloud libs</a></p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We will review this in more details in lab4</p>
</div>
</div>
<div class="section" id="application-deployment-in-a-ssg-aws">
<h2>Application deployment in a <code class="docutils literal notranslate"><span class="pre">SSG</span></code> - AWS<a class="headerlink" href="#application-deployment-in-a-ssg-aws" title="Permalink to this headline">¶</a></h2>
<p>To ensure the traffic goes through the <code class="docutils literal notranslate"><span class="pre">SSG</span></code> as expected, application will be
deployed in a certain manner:</p>
<ul class="simple">
<li><p>You will need dedicated <code class="docutils literal notranslate"><span class="pre">Classic</span> <span class="pre">Load</span> <span class="pre">Balancer</span></code> (AKA ELB previously) per
application. The reason is that each <code class="docutils literal notranslate"><span class="pre">ELB</span></code> has one public IP/DNS Name
(ie you can’t have 2 app runnings on port 443/HTTPS on a <code class="docutils literal notranslate"><span class="pre">ELB</span></code> )</p></li>
<li><p>When the app is deployed from BIG-IQ, we will specify a VS IP that will be 0.0.0.0.
This is because ELB can only send traffic to the first nic of an instance and
therefore we will deploy 1nic VE in AWS. So traffic and everything will be sent
to the nic Self IP.</p></li>
<li><p>This config will be configured on all <code class="docutils literal notranslate"><span class="pre">SSG</span></code> VEs.
They will have an <strong>identical</strong> Setup</p></li>
</ul>
<p>In this lab, we will create a <code class="docutils literal notranslate"><span class="pre">Service</span> <span class="pre">Scaling</span> <span class="pre">Group</span></code> in an <code class="docutils literal notranslate"><span class="pre">AWS</span></code> environment.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="lab1.html">Lab 4.1: Prepare your <code class="docutils literal notranslate"><span class="pre">AWS</span></code> deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab2.html">Lab 4.2: Deploy our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> in <code class="docutils literal notranslate"><span class="pre">AWS</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="lab3.html">Lab 4.3: Review our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> deployment in <code class="docutils literal notranslate"><span class="pre">AWS</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="lab4.html">Lab 4.4: Deploy an application (AWS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab5.html">Lab 4.5: Cleanup the environment (AWS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab6.html">Lab 4.6: Troubleshooting (AWS)</a></li>
</ul>
</div>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="../module3/lab2.html" title="Lab 3.2: Upgrade and scale-up our SSG" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="lab1.html" title="Lab 4.1: Prepare your AWS deployment" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/index.js"></script>
  <script src="../../_static/js/jquery.appear.js"></script>
  <script src="../../_static/js/printThis.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>
  <script src="/assets/js/clouddocs.js"></script>
  <script src="/assets/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>