<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Lab 5.2: Deploy our SSG in Azure</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="Lab 5.2: Deploy our SSG in Azure"/>
  <meta name="product" content="F5 BIG-IQ &amp; Cloud Edition Lab"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2019-07-26 04:33:11"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 BIG-IQ &amp; Cloud Edition Lab" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Lab 5.2: Deploy our SSG in Azure &#8212; F5 BIG-IQ &amp; Cloud Edition Lab  documentation</title>
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5_agility_theme.css" />
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="/assets/css/CoveoFullSearch.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lab 5.3: Review our SSG deployment in Azure" href="lab3.html" />
    <link rel="prev" title="Lab 5.1: Prepare your Azure deployment" href="lab1.html" />

  
    

  
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 BIG-IQ & Cloud Edition Lab  </h5>
        
<div id="searchbox" role="search">
  <form class="search" action="../../search.html" method="get">
    <input type="text" class="search" name="q" placeholder=" Search..." />
    <button type="submit" class="btn btn-info navbar-btn"><i class="fa fa-search"></i></button>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        <hr>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Contents/Lab:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../class1/class1.html">Class 1: BIG-IQ Application Management and AS3 (Cloud Edition)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../class2.html">Class 2: BIG-IQ Deployment with auto-scale on AWS, Azure &amp; VMware (Cloud Edition)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class3/class3.html">Class 3:  BIG-IQ Analytics (Cloud Edition)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class4/class4.html">Class 4: BIG-IQ Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class5/class5.html">Class 5: BIG-IQ Device Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class6/class6.html">Class 6: BIG-IQ ADC Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class7/class7.html">Class 7: BIG-IQ Application Firewall Manager (AFM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class8/class8.html">Class 8: BIG-IQ Application Security Manager (ASM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class9/class9.html">Class 9: BIG-IQ Access Policy Manager (APM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class10/class10.html">Class 10: BIG-IQ DNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class11/class11.html">Class 11: BIG-IQ DDoS Monitoring and Dashboard</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Lab 5.2: Deploy our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> in <code class="docutils literal notranslate"><span class="pre">Azure</span></code></a><ul>
<li><a class="reference internal" href="#launch-our-ssg-access-our-orchestrator-azure">Launch our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> - Access our orchestrator - Azure</a></li>
<li><a class="reference internal" href="#launch-our-ssg-update-config-yml-azure">Launch our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> - Update config.yml - Azure</a></li>
<li><a class="reference internal" href="#launch-our-ssg-update-our-ssg-configuration-azure">Launch our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> - Update our SSG configuration - Azure</a></li>
<li><a class="reference internal" href="#launch-our-ssg-trigger-the-deployment-azure">Launch our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> - Trigger the deployment - Azure</a></li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../../index.html">F5 BIG-IQ &amp; Cloud Edition Lab</a>
              &gt; <a href="../class2.html">Class 2: BIG-IQ Deployment with auto-scale on AWS, Azure &amp; VMware (Cloud Edition)</a>
              &gt; <a href="module5.html">Module 5: Setup a Service scaling group (SSG) in Azure</a>

          <span class="right">
             <a href="../../_sources/class2/module5/lab2.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/f5devcentral/f5-big-iq-lab">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="lab-5-2-deploy-our-ssg-in-azure">
<h1>Lab 5.2: Deploy our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> in <code class="docutils literal notranslate"><span class="pre">Azure</span></code><a class="headerlink" href="#lab-5-2-deploy-our-ssg-in-azure" title="Permalink to this headline">¶</a></h1>
<p>Since we have already seen the different components needed to deploy a <code class="docutils literal notranslate"><span class="pre">SSG</span></code> successfully,
we will automatically deploy it and review its configuration.</p>
<div class="section" id="launch-our-ssg-access-our-orchestrator-azure">
<h2>Launch our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> - Access our orchestrator - Azure<a class="headerlink" href="#launch-our-ssg-access-our-orchestrator-azure" title="Permalink to this headline">¶</a></h2>
<p>To setup <code class="docutils literal notranslate"><span class="pre">BIG-IQ</span></code> and <code class="docutils literal notranslate"><span class="pre">Azure</span></code> automatically, open a <code class="docutils literal notranslate"><span class="pre">SSH</span></code> connection on the system called: <strong>Ubuntu Lamp Server</strong></p>
<a class="reference internal image-reference" href="../../_images/img_module4_lab2_11.png"><img alt="../../_images/img_module4_lab2_11.png" class="align-center" src="../../_images/img_module4_lab2_11.png" style="width: 508.5px; height: 402.5px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Once connected via <code class="docutils literal notranslate"><span class="pre">SSH</span></code>, go into the folder: <strong>f5-azure-vpn-ssg</strong>:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">f5-azure-vpn-ssg/</span></code></p>
</div></blockquote>
<p>we will need to edit the following files:</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>config.yml</strong>: This file will contains all the information needed to</dt><dd><p>deploy the <code class="docutils literal notranslate"><span class="pre">Azure</span></code> environment successfully.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>08a-create-Azure-auto-scaling.yml</strong>: we will change the setup of the default <code class="docutils literal notranslate"><span class="pre">SSG</span></code></dt><dd><p>that gets deployed. we want to deploy 2 instances to review how it is setup as
part of a <code class="docutils literal notranslate"><span class="pre">SSG</span></code> group.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="launch-our-ssg-update-config-yml-azure">
<h2>Launch our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> - Update config.yml - Azure<a class="headerlink" href="#launch-our-ssg-update-config-yml-azure" title="Permalink to this headline">¶</a></h2>
<p>Use your favorite editor to update this file.</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">vi</span> <span class="pre">config.yml</span></code></p>
</div></blockquote>
<p>Here are the settings you will need to change to deploy everything successfully:</p>
<ul>
<li><p>SUBSCRIPTION_ID</p></li>
<li><p>TENANT_ID</p></li>
<li><p>CLIENT_ID</p></li>
<li><p>SERVICE_PRINCIPAL_SECRET</p></li>
<li><dl class="simple">
<dt>PREFIX: Specify a <code class="docutils literal notranslate"><span class="pre">prefix</span></code> that will be used on each object automatically</dt><dd><p>created. we will use <strong>udf-&lt;your NAME&gt;</strong>. For example: <strong>udf-azure-demo</strong></p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>DO NOT PUT a <code class="docutils literal notranslate"><span class="pre">-</span></code> at the end or your deployment will fail.</p>
<p>We need you to put something so that your PREFIX will be UNIQUE to you or it will overlap with
other student’s env. If your name is ‘common’, pick something else that should be unique or append
your first name to it.</p>
<p>Use udf- in the prefix or your <code class="docutils literal notranslate"><span class="pre">SSG</span></code> deployment will fail</p>
<p>Remember that the PREFIX must be 15 CHARACTERS MAX</p>
</div>
</li>
</ul>
<p>Save the config file.</p>
<p>Here is an example of the updated <strong>config.yml</strong> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##################################################################################################</span>
<span class="c1">###########################         UPDATE VARIABLE BELOW          ###############################</span>
<span class="c1">##################################################################################################</span>

<span class="c1"># Enabling Azure Marketplace images for programmatic access</span>
<span class="c1"># On the Azure portal go to All Services</span>
<span class="c1"># In the General section, click on Marketplace</span>
<span class="c1"># Type in &quot;F5 BIG-IP&quot; in the Search Box to filter the items</span>
<span class="c1"># Click on each of the images and do the following</span>
<span class="c1"># Click on the &quot;Want to deploy programmatically?&quot;  link on the right</span>
<span class="c1"># Click on &quot;Enable&quot; and Save</span>

<span class="c1"># Select Azure Cloud for VNET and VPN creation: AzureCloud, AzureChinaCloud, AzureUSGovernment, AzureGermanCloud</span>
<span class="n">Azure_CLOUD</span><span class="p">:</span> <span class="n">AzureCloud</span>
<span class="c1"># Select Azure Cloud for BIG-IQ SSG: Azure, Azure_CHINA, Azure_US_GOVERNMENT, Azure_GERMANY</span>
<span class="n">Azure_BIGIQ_CLOUD</span><span class="p">:</span> <span class="n">Azure</span>

<span class="n">SUBSCRIPTION_ID</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Subscription</span> <span class="n">Id</span><span class="o">&gt;</span>
<span class="n">TENANT_ID</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Tenant</span> <span class="n">Id</span><span class="o">&gt;</span>
<span class="n">CLIENT_ID</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Client</span> <span class="n">Id</span><span class="o">&gt;</span>
<span class="n">SERVICE_PRINCIPAL_SECRET</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Service</span> <span class="n">Principal</span> <span class="n">Secret</span><span class="o">&gt;</span>
<span class="c1"># web browser and access token to sign in (if set to yes, delete USERNAME AND PASSWORD variables)</span>
<span class="n">USE_TOKEN</span><span class="p">:</span> <span class="n">no</span>

<span class="c1"># A unique searchable prefix to all resources which are created</span>
<span class="c1"># Use a prefix w/o spaces or special characters (NO MORE THAN 10 CHARACTERS, no end with - or special characters)</span>
<span class="n">PREFIX</span><span class="p">:</span> <span class="n">udf</span><span class="o">-</span><span class="n">azure</span><span class="o">-</span><span class="n">demo</span>
<span class="c1"># Also used for the Azure Resource group name</span>

<span class="c1"># Select on of  the region below (default East US) - westus, westeurope, eastasia, brazilsouth ...</span>
<span class="c1"># run az account list-locations --output table</span>
<span class="n">DEFAULT_LOCATION</span><span class="p">:</span> <span class="n">eastus</span>

<span class="c1"># Adjust the BIG-IP Version based on your region</span>
<span class="n">BYOL_BIGIP_NAME</span><span class="p">:</span> <span class="s2">&quot;f5-big-all-1slot-byol&quot;</span>
<span class="n">BYOL_BIGIP_VERSION</span><span class="p">:</span> <span class="s2">&quot;13.1.100000&quot;</span> <span class="c1">#14.0.001000</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We don’t have to change anything else as long as we use the US-East (N. Virginia) Location</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>in your <strong>config.yml</strong> file, you have the default password that will be used for the admin user
This password will be enforced on all the VEs deployed in your <code class="docutils literal notranslate"><span class="pre">SSG</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># BIG-IQ SSG CONFIG</span>
<span class="n">BIGIP_USER</span><span class="p">:</span> <span class="n">admin</span>
<span class="n">BIGIP_PWD</span><span class="p">:</span> <span class="o">**************</span>
</pre></div>
</div>
<p>MAKE SURE TO NOTE IT SOMEWHERE</p>
</div>
</div>
<div class="section" id="launch-our-ssg-update-our-ssg-configuration-azure">
<h2>Launch our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> - Update our SSG configuration - Azure<a class="headerlink" href="#launch-our-ssg-update-our-ssg-configuration-azure" title="Permalink to this headline">¶</a></h2>
<p>To update configuration pushed by the orchestrator, we will update the file called
<strong>08a-create-azure-auto-scaling.yml</strong>. Use your favorite editor to update it.</p>
<p>Look for this section in the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">include_tasks</span><span class="p">:</span> <span class="o">./</span><span class="n">helpers</span><span class="o">/</span><span class="n">post</span><span class="o">.</span><span class="n">yml</span>
  <span class="n">with_items</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Create</span> <span class="n">service</span> <span class="n">scaling</span> <span class="n">group</span>
      <span class="n">url</span><span class="p">:</span> <span class="s2">&quot;{{BIGIQ_URI}}/cm/cloud/service-scaling-groups&quot;</span>
      <span class="n">body</span><span class="p">:</span> <span class="o">&gt;</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;{{SSG_NAME}}&quot;</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Azure scaling group&quot;</span><span class="p">,</span>
            <span class="s2">&quot;environmentReference&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;https://localhost/mgmt/cm/cloud/environments/{{cloud_environment_result.id}}&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;minSize&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;maxSize&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;maxSupportedApplications&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;desiredSize&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;providerType&quot;</span><span class="p">:</span> <span class="s2">&quot;Azure&quot;</span><span class="p">,</span>
            <span class="s2">&quot;postDeviceCreationUserScriptReference&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s2">&quot;preDeviceDeletionUserScriptReference&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s2">&quot;scalingPolicies&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;scale-out&quot;</span><span class="p">,</span>
                <span class="s2">&quot;cooldown&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
                <span class="s2">&quot;direction&quot;</span><span class="p">:</span> <span class="s2">&quot;ADD&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ChangeCount&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">1</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;scale-in&quot;</span><span class="p">,</span>
                <span class="s2">&quot;cooldown&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
                <span class="s2">&quot;direction&quot;</span><span class="p">:</span> <span class="s2">&quot;REMOVE&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ChangeCount&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">1</span>
            <span class="p">}]</span>
        <span class="p">}</span>
</pre></div>
</div>
<p>Change the <strong>minSize</strong> and <strong>desiredSize</strong> from 1 to 2 :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">include_tasks</span><span class="p">:</span> <span class="o">./</span><span class="n">helpers</span><span class="o">/</span><span class="n">post</span><span class="o">.</span><span class="n">yml</span>
  <span class="n">with_items</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Create</span> <span class="n">service</span> <span class="n">scaling</span> <span class="n">group</span>
      <span class="n">url</span><span class="p">:</span> <span class="s2">&quot;{{BIGIQ_URI}}/cm/cloud/service-scaling-groups&quot;</span>
      <span class="n">body</span><span class="p">:</span> <span class="o">&gt;</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;{{SSG_NAME}}&quot;</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Azure scaling group&quot;</span><span class="p">,</span>
            <span class="s2">&quot;environmentReference&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;https://localhost/mgmt/cm/cloud/environments/{{cloud_environment_result.id}}&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;minSize&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;maxSize&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;maxSupportedApplications&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;desiredSize&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;providerType&quot;</span><span class="p">:</span> <span class="s2">&quot;Azure&quot;</span><span class="p">,</span>
            <span class="s2">&quot;postDeviceCreationUserScriptReference&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s2">&quot;preDeviceDeletionUserScriptReference&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s2">&quot;scalingPolicies&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;scale-out&quot;</span><span class="p">,</span>
                <span class="s2">&quot;cooldown&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
                <span class="s2">&quot;direction&quot;</span><span class="p">:</span> <span class="s2">&quot;ADD&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ChangeCount&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">1</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;scale-in&quot;</span><span class="p">,</span>
                <span class="s2">&quot;cooldown&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
                <span class="s2">&quot;direction&quot;</span><span class="p">:</span> <span class="s2">&quot;REMOVE&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ChangeCount&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">1</span>
            <span class="p">}]</span>
        <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="launch-our-ssg-trigger-the-deployment-azure">
<h2>Launch our <code class="docutils literal notranslate"><span class="pre">SSG</span></code> - Trigger the deployment - Azure<a class="headerlink" href="#launch-our-ssg-trigger-the-deployment-azure" title="Permalink to this headline">¶</a></h2>
<p>Now that the relevant files have been updated, we can trigger the deployment.</p>
<p>To trigger the deployment, run the following command:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">./000-RUN_ALL.sh</span> <span class="pre">ssg</span></code></p>
</div></blockquote>
<p>It will ask you to press Enter to confirm that you subscribed and agreed to
the EULA in the marketplace. Press enter to start the deployment.</p>
<p>You should see something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>f5@03a920f8b4c0410d8f:~/f5-azure-vpn-ssg$ nohup ./000-RUN_ALL.sh ssg &amp;
f5@03a920f8b4c0410d8f:~/f5-azure-vpn-ssg$ tail -f nohup.out

Did you subscribed and agreed to the software terms for &#39;F5 BIG-IP Virtual Edition - BEST - BYOL&#39; in Azure Marketplace?

Enabling Azure Marketplace images for programmatic access:
- On the Azure portal go to All Services
- In the General section, click on Marketplace
- Type in &#39;F5 BIG-IP Virtual Edition - BEST - BYOL&#39; in the Search Box to filter the items
- Click on each of the images and do the following
- Click on the &#39;Want to deploy programmatically?&#39;  link on the right
- Click on &#39;Enable, then Save.&#39;


EXPECTED TIME: ~45 min

Installation Azure CLI

Set Cloud Name to  AzureCloud

Login
[
{
    &quot;cloudName&quot;: &quot;AzureCloud&quot;,
    &quot;id&quot;: &quot;a3615-1ds30-41dfd-a146-dba5dewssdf6a1b&quot;,
    &quot;isDefault&quot;: true,
    &quot;name&quot;: &quot;f5-AZR-SEATTLE&quot;,
    &quot;state&quot;: &quot;Enabled&quot;,
    &quot;tenantId&quot;: &quot;abawewsd6-905c-4wwewwws9-9wew8-dfew44rrtwewe33&quot;,
    &quot;user&quot;: {
    &quot;name&quot;: &quot;dbw34343fc-fsdf5-4werswsw4-83wefwdf6-2b9ererdfsdf02b&quot;,
    &quot;type&quot;: &quot;servicePrincipal&quot;
    }
}
</pre></div>
</div>
<p>At this stage, we should start deploying your environment in <code class="docutils literal notranslate"><span class="pre">Azure</span></code>.
In your <code class="docutils literal notranslate"><span class="pre">Azure</span> <span class="pre">Console</span></code>, go to <strong>Resource groups</strong>.</p>
<a class="reference internal image-reference" href="../../_images/img_module5_lab2_1.png"><img alt="../../_images/img_module5_lab2_1.png" class="align-center" src="../../_images/img_module5_lab2_1.png" style="width: 1544.0px; height: 694.5px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Here we can see that the objects are being deployed with the prefix
<strong>udf-azure-demo</strong> as mentioned in <strong>config.yml</strong> file (prefix attribute)</p>
<p>In the next lab, we will review what has been setup on <code class="docutils literal notranslate"><span class="pre">BIG-IQ</span></code> and what was
deployed in our <code class="docutils literal notranslate"><span class="pre">Azure</span> <span class="pre">VNET</span></code>.</p>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="lab1.html" title="Lab 5.1: Prepare your Azure deployment" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="lab3.html" title="Lab 5.3: Review our SSG deployment in Azure" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/index.js"></script>
  <script src="../../_static/js/jquery.appear.js"></script>
  <script src="../../_static/js/printThis.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>
  <script src="/assets/js/clouddocs.js"></script>
  <script src="/assets/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>